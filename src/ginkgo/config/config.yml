heart_beat: .01
# 开发/生产环境下相同的配置
debug: False
token_expiration: 14  # Token过期时间（天）

# 装饰器配置
decorator:
  # 性能监控装饰器
  time_logger_enabled: true
  time_logger_threshold: 0.1
  time_logger_profile_mode: false
  
  # 重试装饰器
  retry_enabled: true
  retry_max_attempts: 3
  retry_backoff_factor: 2.0
  
  # 缓存装饰器
  cache_enabled: true
  cache_default_ttl: 300

# 回测引擎性能监控配置
backtest_performance:
  # 引擎主循环 - 最严格监控
  engine_main_loop:
    threshold: 0.05      # 50ms阈值
    profile_mode: true   # 强制性能分析
    enabled: true
  
  # 信号执行器 - 中等监控  
  signal_execution:
    threshold: 0.01      # 10ms阈值
    profile_mode: false
    enabled: true
    
  # 策略计算 - 宽松监控
  strategy_calculation:
    threshold: 0.2       # 200ms阈值
    profile_mode: false
    enabled: true
    
  # 风控处理 - 严格监控
  risk_management:
    threshold: 0.02      # 20ms阈值
    profile_mode: true
    enabled: true

# 数据源重试策略配置
data_sources:
  tushare:
    retry_max_attempts: 8     # TuShare API限制较严，需要更多重试
    retry_backoff_factor: 1.5 # 较温和的退避策略
    retry_enabled: true
  baostock:
    retry_max_attempts: 5     # BaoStock稳定性较好
    retry_backoff_factor: 2.0 # 标准退避策略
    retry_enabled: true
  tdx:
    retry_max_attempts: 6     # 通达信本地数据源
    retry_backoff_factor: 1.2 # 快速重试
    retry_enabled: true
  yahoo:
    retry_max_attempts: 4     # 海外API，网络延迟较高
    retry_backoff_factor: 2.5 # 较长的退避时间
    retry_enabled: true

# 日志设置
log_path: /home/kaoru/.ginkgo/logs/
working_directory: /home/kaoru/Documents/Ginkgo/
python_path: /home/kaoru/Documents/Ginkgo/venv/bin/python
log_file_on: False
log_default_file: ginkgo.log
log_level_console: DEBUG
log_level_file: CRITICAL
log_color:
  DEBUG: white
  INFO: green
  WARNING: yellow
  ERROR: red
  CRITICAL: bold_red

# 分布式日志配置（Loki架构）
logging:
  mode: auto              # auto（自动检测）/ container（容器模式）/ local（本地模式）
  format: json            # json（结构化）/ plain（纯文本）

  # 容器环境配置
  container:
    enabled: true         # 容器日志是否启用
    json_output: true     # 是否输出JSON格式

  # 本地环境配置
  local:
    file_enabled: true    # 本地文件日志是否启用
    file_path: "ginkgo.log"  # 日志文件路径

  # 敏感字段脱敏
  mask_fields:            # 需要脱敏的字段列表
    - password
    - secret
    - token
    - api_key

# DB
# db_driver: clickhouse

# ginkgo data
default_start: 19000101
default_end: 21000101


# Setting
epsilon: 1e-5
cpu_ratio: 0.8
quiet: True

# 通知系统配置
notifications:
  # Discord 渠道配置
  discord:
    timeout: 3       # Webhook 请求超时时间（秒）
    max_retries: 3   # 最大重试次数

  # Email 渠道配置
  email:
    timeout: 10      # SMTP 请求超时时间（秒）
    max_retries: 3   # 最大重试次数
    smtp_host: smtp.gmail.com      # SMTP 服务器地址
    smtp_port: 587                  # SMTP 端口（TLS）
    from_address: your_email@gmail.com  # 发件人邮箱
    from_name: Ginkgo Notification  # 发件人名称

  # 通知记录保留时间
  record_ttl_days: 7  # 通知记录保留天数（TTL索引自动清理）
